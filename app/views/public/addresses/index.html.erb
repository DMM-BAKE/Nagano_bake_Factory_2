<div class="text-danger">
   <%= render 'layouts/errors', obj: @address %>
</div>
<div class="container">
  <div class="row justify-content-center">
    <div class="col-md-6">
      <div class="px-2 h4 mx-auto text-center mt-2" style="font-family: HiraMinPro-W6;">
        配送先登録/一覧
      </div>

      <%= form_with model: @address, url: public_addresses_path, local:true do |f| %>
      <div class="form-group row mt-5">
        <%= f.label :"郵便番号(ハイフンなし)", class:"col-md-4 col-form-label text-md-right fw-bold" %>
      <div class="col-md-6 px-md-0">
        <%= f.text_field :postal_code, placeholder: "1234567", class:"form-control" %>
      </div>
      </div>

      <div class="form-group row mt-3">
        <%= f.label :"住所", class:"col-md-4 col-form-label text-md-right fw-bold" %>
      <div class="col-md-6 px-md-0">
        <%= f.text_field :address, placeholder: "東京都渋谷区宇田川町1-1", class:"form-control" %>
      </div>
      </div>

      <div class="form-group row mt-3">
        <%= f.label :"宛名", class:"col-md-4 col-form-label text-md-right fw-bold" %>
      <div class="col-md-6 px-md-0">
        <%= f.text_field :name, placeholder: "宛名を入力してください", class: "form-control" %>
      </div>
      <div class="col-2 text-align: right;">
        <%= f.submit "新規登録", class: "glyphicon glyphicon-pencil btn-md-btn btn-success" %>
      </div>
      </div>
      <% end %>

      <% if @addresses.present? %>
      <table class="table table-hover table-bordered mt-5">

        <thead>
          <tr>
            <th>郵便番号</th>
            <th>住所</th>
            <th>宛名</th>
            <th colspan="2"></th>
          </tr>
        </thead>

        <tbody>
          <% @addresses.each do |address| %>
            <tr>
              <td class="text-left">
                <%= address.postal_code %>
              </td>
              <td class="text-left">
                <%= address.address %>
              </td>
              <td class="text-left">
                <%= address.name %>
              </td>
              <td class="text-center">
                <%= link_to "編集する", edit_public_address_path(address), class: "glyphicon glyphicon-pencil btn-sm btn-primary" %>
                <%= link_to "削除する",public_address_path(address), method: :delete, data: {confirm: "本当に削除してもよろしいですか？"}, class: "glyphicon glyphicon-pencil btn-sm btn-danger" %>
              </td>
            </tr>
          <% end %>
        </tbody>

      </table>
      <% end %>
    </div>
  </div>
</div>

